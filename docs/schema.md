# Quranic Vocabulary Database Schema

This schema matches the Flutter app's data layer and is generated by
`tools/etl/build_quran_db.py`.

## Tables

### `surahs`
- `id` (PK)
- `name_arabic`
- `name_english`
- `verse_count`
- `type`

### `ayahs`
- `id` (PK)
- `surah_id` (FK -> surahs.id)
- `ayah_number`
- `text_uthmani`
- `text_indopak`
- `translation_en`

### `words`
- `id` (PK)
- `ayah_id` (FK -> ayahs.id)
- `position`
- `text_uthmani`
- `text_indopak`
- `translation_en`
- `transliteration`
- `root_id` (FK -> roots.id)
- `lemma_id` (FK -> lemmas.id)
- `audio_start_ms`
- `audio_end_ms`

### `roots`
- `id` (PK)
- `root_text`
- `frequency_count`
- `meaning_short`
- `meaning_long`

### `lemmas`
- `id` (PK)
- `lemma_text`
- `root_id` (FK -> roots.id)
- `frequency_rank`

### `user_progress`
- `root_id` (PK, FK -> roots.id)
- `srs_stage`
- `stability`
- `difficulty`
- `next_review_date`

### `curriculum`
- `id` (PK)
- `lesson_id`
- `root_id` (FK -> roots.id)
- `order_index`

### `word_search` (FTS5)
- `content`
- `word_id` (unindexed)

